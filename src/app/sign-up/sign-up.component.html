<div class="container-fluid mt-5">
  <div class="row justify-content-center align-items-center mt-3">
      <div class="col col-sm-12 col-md-6 col-lg-5 col-xl-3 background-box px-5 py-1 pb-4 text-center mt-0">
          <div *ngIf="!showSelected">
              <h2 class="mt-5">Sign Up</h2>
              <p class="grey-text-color mt-3 mb-4">Very Easy and straight forward steps to register.
              <br/> Just follow the lead</p>
          </div>
          <form class="form-log-in mt-4 form-antim" [formGroup]="SigUpForm">
              <div class="first-step row" *ngIf="!showSelected  && !lastStep">
              <div class="col-lg-2">
                  <h5 class="vertical-text mt-4">what about you ?</h5>
              </div>
              <div class="form-group text-left col-lg-4 col-6 text-center">
                  <div class="select-options-radio" [ngClass]="{'active': id === 1 }" id="1" (click)="addClass(id=1)">
                      <label for="Lender"></label>
                      <div class="mat-checkbox-inner-container"><div class="mat-checkbox-background"><svg width="8" height="7" viewBox="0 0 8 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M7.33329 1.33325L2.74996 6.33325L0.666626 4.06053" stroke="#5C20D2" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                          <div class="mat-checkbox-mixedmark"></div></div>
                  </div>
                      <img src="assets/images/lender.svg" alt="antim">
                      <p class="grey-text-color mt-4">Lender</p>
                  </div>
              </div>
              <div class="form-group text-left col-lg-4 col-6 text-center">
                  <div class="select-options-radio" [ngClass]="{'active': id === 2 }" id="2" (click)="addClass(id=2)">
                          <label for="Borrower"></label>
                          <div class="mat-checkbox-inner-container"><div class="mat-checkbox-background"><svg width="8" height="7" viewBox="0 0 8 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M7.33329 1.33325L2.74996 6.33325L0.666626 4.06053" stroke="#5C20D2" stroke-linecap="round" stroke-linejoin="round"/>
                              </svg>
                              <div class="mat-checkbox-mixedmark"></div></div>
                      </div>
                          <img src="assets/images/borrower-2.svg" alt="antim">
                          <p class="grey-text-color mt-4">Borrower</p>
                  </div>
              </div>
              <div class="form-group mt-1 mb-4 col-lg-12 d-flex justify-content-center">
                  <button class="btn btn-lg btn-block btn-grey mt-3 mb-4 col-lg-3 col-12 " [ngClass]="(disabledNextButton)?' ':'purple'"  [disabled]="disabledNextButton" (click)="Nextstep()">Next</button>
              </div>
              </div>

              <div *ngIf="showSelected && !sheckMobileStep" class="px-4">
                      <img src="assets/images/borrower.svg" alt="antim" class="mb-2">
                      <p class="grey-text-color mt-2 mb-4">Alright {{userType}}, Fill the below form please!</p>
                      <div class="row mt-3">
                          <div class="form-group text-left col-lg-6">
                              <label for="name">First Name<span class="red-color"> *</span></label>
                              <input formControlName="FirstName" class="form-control form-control-lg" placeholder="Type First Name here..." type="text" [(ngModel)]="signupFirstName">
                              <div *ngIf="SigUpForm.controls['FirstName'].touched && !SigUpForm.controls['FirstName'].valid" class="error-msg alert alert-danger text-left">First Name required</div>
                          </div>
                          <div class="form-group text-left col-lg-6">
                            <label for="name">Last Name<span class="red-color"> *</span></label>
                            <input formControlName="LastName" class="form-control form-control-lg" placeholder="Type Last Name here..." type="text" [(ngModel)]="signupLastName">
                            <div *ngIf="SigUpForm.controls['LastName'].touched && !SigUpForm.controls['LastName'].valid" class="error-msg alert alert-danger text-left">Last Name required</div>
                        </div>

                          <div class="form-group text-left col-lg-6">
                              <label for="username">Username<span class="red-color"> *</span></label>
                              <input formControlName="username" class="form-control form-control-lg" placeholder="Type Username here..." type="text" [(ngModel)]="signupUserName">
                              <div *ngIf="SigUpForm.controls['username'].touched && SigUpForm.controls['username'].hasError('required')" class="error-msg alert alert-danger text-left">Username required</div>
                              <div *ngIf="SigUpForm.controls['username'].touched && SigUpForm.controls['username'].hasError('minlength')" class="error-msg alert alert-danger text-left">User Name must be at least 5 characters long.</div>

                          </div>
                          <div class="form-group text-left col-lg-6">
                              <label for="NID">National ID No/Iqama<span class="red-color"> *</span></label>
                              <input formControlName="NID" class="form-control form-control-lg" placeholder="Ex : 0000" type="text" [(ngModel)]="signupIdNum">
                              <div *ngIf="SigUpForm.controls['NID'].touched && SigUpForm.controls['NID'].hasError('required')" class="error-msg alert alert-danger text-left">National ID is required</div>
                              <div *ngIf="SigUpForm.controls['NID'].touched && SigUpForm.controls['NID'].hasError('minlength')" class="error-msg alert alert-danger text-left">National ID number must be at least 11 characters long.</div>


                          </div>
                          <div class="form-group text-left col-lg-12">
                                  <label for="email">Email<span class="red-color"> *</span></label>
                                  <input formControlName="email" class="form-control form-control-lg" placeholder="Type Email here..." type="email" value="signupEmail" [(ngModel)]="signupEmail">
                                  <div *ngIf="SigUpForm.controls['email'].touched && SigUpForm.controls['email'].hasError('required')" class="error-msg alert alert-danger text-left">Email is required</div>
                                  <div *ngIf="SigUpForm.controls['email'].touched && SigUpForm.controls['email'].hasError('pattern')" class="error-msg alert alert-danger text-left">Enter proper Email.</div>
                           </div>
                           <div class="form-group text-left col-lg-12">
                              <label for="password">Password<span class="red-color"> *</span></label>
                              <input formControlName="password" class="form-control  form-control-lg" placeholder="************" type="password" [(ngModel)]="signupPassword">
                              <div *ngIf="SigUpForm.controls['password'].touched && SigUpForm.controls['password'].hasError('required')" class="error-msg alert alert-danger text-left">Password is required</div>
                              <div *ngIf="SigUpForm.controls['password'].touched && SigUpForm.controls['password'].hasError('pattern')" class="error-msg alert alert-danger text-left">Password must contain UpperCases, LowerCases, Numbers/SpecialCharacters and at least 9 characters long.</div>
                              <!-- <div *ngIf="SigUpForm.controls['password'].touched && SigUpForm.controls['password'].hasError('minlength')" class="error-msg alert alert-danger text-left">Password must be at least 9 characters long.</div> -->

                          </div>
                          <div class="form-group text-left col-lg-12">
                            <label for="confirmPassword">Confirm Password<span class="red-color"> *</span></label>
                            <input formControlName="confirmPassword" class="form-control form-control-lg" placeholder="************" type="password"  [(ngModel)]="signupCPassword">
                            <div *ngIf="SigUpForm.controls['confirmPassword'].touched && SigUpForm.controls['confirmPassword'].hasError('required')" class="error-msg alert alert-danger text-left">Confirm Password is required</div>
                            <div *ngIf="SigUpForm.value.password != SigUpForm.value.confirmPassword" class="error-msg alert alert-danger text-left">Passwords must be same.</div>
                            <span id="message"></span>
                          </div>
                           <div class="form-group text-left col-lg-12">
                                  <label for="phone">Mobile No.<span class="red-color"> *</span></label>
                                  <input  formControlName="phone" class="form-control form-control-lg" placeholder="Ex : 011 XXX XXXX" type="number" (keyup)="inputNumber($event)"
                                  oninput="javascript: if (this.value.length >= 9) { document.getElementById('phonenumber').style.visibility = 'hidden'; }
                                  else { document.getElementById('phonenumber').style.visibility = 'visible'; }" [(ngModel)]="signupPhone">
                                    <div *ngIf="SigUpForm.controls['phone'].touched && !SigUpForm.controls['phone'].valid" class="error-msg alert alert-danger text-left">Phone Number is required</div>
                                    <!-- <div *ngIf="SigUpForm.controls['phone'].touched && SigUpForm.controls['phone'].hasError('minlength')" class="error-msg alert alert-danger text-left">Phone number must be at least 9 characters long.</div> -->
                                  <span class="redColor" id="phonenumber"> Phone number must be at least 9 characters long.</span>
                           </div>
                           <div class="row justify-content-center align-items-center">
                           <div class="col-lg-8 col-11 text-center">
                                  <input type="checkbox" id="box-1" (change)="changeCheck1($event)">
                                  <label for="box-1">I agree on my <span class="text-underline" [routerLink]="['/terms-conditions']">Terms & Condtions</span></label>
                           </div>
                           <div class="col-lg-8 col-11 mt-4 text-center">
                                  <input type="checkbox" id="box-2"  (change)="changeCheck2($event)">
                                  <label for="box-2">I agree on intime <span class="text-underline" [routerLink]="['/terms-conditions']">Terms & Condtions</span></label>
                           </div>
                           <div class="col-lg-11 mt-3 row justify-content-center align-items-center pb-4">
                           <div class="form-group col-lg-6">
                                  <button class="btn btn-info btn-lg btn-block btn-black mt-2" (click)="PrevStep()">back</button>
                          </div>
                          <div class="form-group col-lg-4">
                              <button class="btn btn-info btn-lg btn-block btn-purple mt-2" (click)="thirdStep()"
                              [disabled]="!isButtonDisabled || signupFirstName.length == 0 || signupLastName.length == 0 || signupIdNum.length == 0 || signupUserName.length == 0 ||
                              signupPassword.length == 0 || signupEmail.length == 0 || !numberEntered || signupCPassword.length == 0">
                              Sign Up</button>
                          </div>
                          </div>
                      </div>
                      </div>
             </div>


             <div *ngIf="showSelected && sheckMobileStep && !lastStep">
                 <a class="close-icon" (click)="closeBack()"><img src="assets/images/close.svg"></a>
                  <img src="assets/images/mobile.svg" alt="antim" class="mb-2 mt-5">
                  <p class="mt-2 mb-4 text-left">Well!<br/>
                          just to be sure, Please enter your verification code to verify your <br/>
                          mobile number.</p>
                  <div class="row mt-3 justify-content-center align-items-center phone-number-code">
                      <div class="form-group text-left col-lg-2 col-3 text-center">
                          <input formControlName="One"  class="form-control form-control-lg" #one placeholder="0" type="number"  oninput="javascript: if (this.value.length > 1) this.value = this.value.slice(0, 1);" [(ngModel)]="first">
                      </div>
                      <div class="form-group text-left col-lg-2 col-3 text-center">
                          <input formControlName="Two"  class="form-control form-control-lg" #two placeholder="0" type="number"  oninput="javascript: if (this.value.length > 1) this.value = this.value.slice(0, 1);" [(ngModel)]="second">
                      </div>
                      <div class="form-group text-left col-lg-2 col-3 text-center">
                          <input formControlName="Three" class="form-control form-control-lg" #three placeholder="0" type="number"  oninput="javascript: if (this.value.length > 1) this.value = this.value.slice(0, 1);" [(ngModel)]="third">
                      </div>
                      <div class="form-group text-left col-lg-2 col-3 text-center">
                          <input formControlName="Four" class="form-control form-control-lg" #four placeholder="0" type="number"  oninput="javascript: if (this.value.length > 1) this.value = this.value.slice(0, 1);" [(ngModel)]="Fourth">
                      </div>
                      <p class="mt-3 col-lg-12">The code will expire : 4:36</p>
                       <div class="col-lg-11 mt-3 row justify-content-center align-items-center">
                       <div class="form-group col-lg-6">
                          <button class="btn btn-info btn-lg btn-block btn-black mt-2">Resend</button>
                      </div>
                      <div class="form-group col-lg-4">
                          <!-- <button class="btn btn-info btn-lg btn-block btn-purple mt-2" (click)="goToLastStep()"  [disabled]="!first || !second || !third  || !Fourth ">Verify</button> -->
                          <button class="btn btn-info btn-lg btn-block btn-purple mt-2" (click)="goToLastStep()"  >Verify</button>
                      </div>
                  </div>
                  </div>
         </div>


         <div *ngIf="lastStep">
              <a class="close-icon" (click)="closeBackLast()"><img src="assets/images/close.svg"></a>
               <img src="assets/images/borrower-lg.svg" alt="antim" class="mb-2 mt-5">
               <p class="grey-text-color mt-4 mb-4">The last thing, Please approve the below</p>

               <div class="row mt-3 justify-content-center align-items-center phone-number-code pb-5">
                      <div class="col-lg-7 col-11 text-center mt-3">
                              <input type="checkbox" id="box-1" (change)="changeCheck1($event)">
                              <label for="box-1">I agree on my <a [routerLink]="['/terms-conditions']">Terms & Condtions</a></label>
                       </div>
                       <div class="col-lg-7 col-11 mt-4 text-center mb-5">
                              <input type="checkbox" id="box-2" (change)="changeCheck2($event)">
                              <label for="box-2">I agree on intime <a [routerLink]="['/terms-conditions']">Terms & Condtions</a></label>
                       </div>
                    <div class="col-lg-11 mt-3 row justify-content-center align-items-center pb-4">
                    <div class="form-group col-lg-9 ">
                       <!-- <button class="btn btn-info btn-lg btn-block btn-purple mt-2" [disabled]="!isButtonDisabled" (click)="signUp()" [routerLink]="['/', dashboredUrl]">Sign Up</button> -->
                       <button class="btn btn-info btn-lg btn-block btn-purple mt-2" [disabled]="!isButtonDisabled" (click)="signUp()" >Sign Up</button>
                   </div>
               </div>
               </div>
      </div>

          </form>
      </div>
  </div>
</div>
