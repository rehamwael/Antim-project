<div>
        <div class="row">
                <nav id="navbar-app" class="navbar navbar-expand-lg navbar-light container py-4 mb-auto sticky-nav" ngStickyNav stickyClass="sticky-fixed-header">
                        <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation" (click)="toggleNavbar()">
                                <span class="navbar-toggler-icon"></span>
                        </button>
                        <a class="navbar-brand" [routerLink]="[ '/' ]">
                                <img src="assets/images/logo-white.svg" alt="antim">

                        </a>
                </nav>
            <aside class="left-sidebar col-lg-4">
                <!-- Sidebar scroll-->
                <div class="scroll-sidebar">
                    <app-sidebar></app-sidebar>
                </div>
                <!-- End Sidebar scroll-->
            </aside>
            <div class="page-wraper-right row">
                <app-setting></app-setting>
            </div>



        <div class="page-wraper-right">
                <div class="mat-card col-lg-11 mt-5 px-0 py-0 m-0 mb-5">
                        <div class="mat-card col-lg-12 row welcome-card inner p-2 m-0 align-items-center">
                            <img class="col-lg-2 col-4" src="assets/images/bookWithMen 2.svg">
                            <div class="col-lg-7 px-0 col-8">
                                <p class="grey-text-color">My Profile</p>
                            </div>
                            <form class="col-lg-3">
                            <div class="form-group">
                                <label for="profileInformation" class="font-size-13">Select profile infomation </label>
                                <select class="form-control form-control-lg mb-2ยง custom-select" (change)="onChange($event.target.value)">
                                        <option value="Personal" selected>Personal Information</option>
                                        <option value="Bank">Bank Information</option>
                                        <option value="TotalProfit">Total profits</option>
                                </select>
                                <svg class="arrow" fill="none" height="7" viewBox="0 0 14 12" width="10" xmlns="http://www.w3.org/2000/svg"><path _ngcontent-pkd-c13="" d="M1 1.2113L7 10.7606L13 1.2113" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>
                            </div>
                            </form>
                        </div>



                        <div class="col-lg-12 row justify-content-around mt-5 dashbored-info">
                            <div class="justify-content-center col-lg-9">
                              <form class="row antim-form" [formGroup]="EditForm" *ngIf="!isShown">
                                <div class="col-lg-12 mb-3"><h3 class="headingh3">Personal Information</h3></div>
                                <div class="col-lg-6">
                                    <label for="Name" class="font-bold mt-2">Name</label>
                                    <input matInput formControlName="Name" type="text" class="form-control form-control-lg" value= "{{currentUser?.firstName}}" [(ngModel)]="name" placeholder="name">
                                    <div *ngIf="EditForm.controls['Name'].touched && !EditForm.controls['Name'].valid" class="error-msg alert alert-danger text-left"> Name required</div>
                                </div>
                                <div class="col-lg-6">
                                    <label for="mobile" class="font-bold mt-2">Mobile No</label>
                                    <input matInput formControlName="MobileNo" type="number" class="form-control form-control-lg" value= "{{currentUser?.phoneNumber}}" [(ngModel)]="phone" placeholder="Mobile No." (keyup)="inputNumber($event)"
                                    oninput="javascript: if (this.value.length >= 9) { document.getElementById('phonenumber').style.visibility = 'hidden'; }
                                    else { document.getElementById('phonenumber').style.visibility = 'visible'; }">
                                     <div *ngIf="EditForm.controls['MobileNo'].touched && EditForm.controls['MobileNo'].hasError('required')" class="error-msg alert alert-danger text-left">Mobile Number is required</div>
                                     <span class="redColor" id="phonenumber"> Phone number must be at least 9 characters long.</span>

                                </div>

                                <div class="col-lg-6">
                                    <label for="Email" class="font-bold mt-2">Email address </label>
                                    <input matInput formControlName="Email" type="email" class="form-control form-control-lg" value= "{{currentUser?.email}}" [(ngModel)]="email" placeholder="email">
                                    <div *ngIf="EditForm.controls['Email'].touched && EditForm.controls['Email'].hasError('required')" class="error-msg alert alert-danger text-left">Email is required</div>
                                    <div *ngIf="EditForm.controls['Email'].touched && EditForm.controls['Email'].hasError('pattern')" class="error-msg alert alert-danger text-left">Enter proper Email.</div>

                                </div>
                                <div class="col-lg-6">
                                    <label for="NID" class="font-bold mt-2">National ID / Iqama</label>
                                    <input matInput formControlName="NID" type="text" class="form-control form-control-lg" value= "{{currentUser?.nationalIdNumber}}" [(ngModel)]="NID" placeholder="National ID">
                                    <div *ngIf="EditForm.controls['NID'].touched && EditForm.controls['NID'].hasError('required')" class="error-msg alert alert-danger text-left">National ID is required</div>
                                    <div *ngIf="EditForm.controls['NID'].touched && EditForm.controls['NID'].hasError('minlength')" class="error-msg alert alert-danger text-left">National ID number must be at least 11 characters long.</div>
                                </div>
                                <div class="col-lg-12">
                                        <label for="Address" class="font-bold mt-2">Address</label>
                                        <input matInput formControlName="Address" class="form-control form-control-lg" value="Saudi Arabia" placeholder="Address">
                                    </div>
                                    <div class="container">
                                    <div class="mt-4">
                                            <div class="col-lg-12" id="map-inner" leaflet
                                            style="height:100px;"
                                            [leafletCenter]="mapCenter"
                                            [leafletZoom]="zoomLevel"
                                            [leafletLayers]="leafletLayers">
                                        </div>
                                        </div>
                                    </div>

                                </form>



                            <form class="row antim-form" [formGroup]="BankInfoForm" *ngIf="isShown && !showProfit">
                                    <div class="col-lg-12 mb-3"><h3 class="headingh3">Bank Information</h3></div>
                                    <div class="col-lg-12">
                                        <label for="MaximunLimit" class="font-bold mt-2">Maximun limit funding</label>
                                        <mat-slider
                                        thumbLabel
                                        [displayWith]="formatLabel"
                                        tickInterval="100"
                                        min="1"
                                        max="10000"></mat-slider>

                                    </div>
                                    <div class="col-lg-6">
                                        <label for="BankName" class="font-bold mt-2">Bank Name</label>
                                        <input matInput formControlName="BankName" class="form-control form-control-lg" value="NHU Bank" placeholder="Bank Name">
                                    </div>
                                    <div class="col-lg-6">
                                        <label for="BankAccount" class="font-bold mt-2">Bank Account Number</label>
                                        <input matInput formControlName="BankAccountNo" class="form-control form-control-lg" value="0112323232" placeholder="Bank Account Name">
                                    </div>
                                    <div class="col-lg-6">
                                      <label for="emailadd" class="font-bold mt-2">Account Title </label>
                                      <input matInput formControlName="AccountTitle" class="form-control form-control-lg" value="ASAD IRFAN" placeholder="email">
                                  </div>
                                  <div class="col-lg-6">
                                      <label for="NationalId" class="font-bold mt-2">Bank Address</label>
                                      <input matInput formControlName="BankAddress" class="form-control form-control-lg" value="Karim block" placeholder="National ID">
                                  </div>

                                    <div class="col-lg-6">
                                        <label for="investmentPerYear" class="font-bold mt-2">Expected capital investment per year</label>
                                        <input matInput formControlName="investmentPerYear" class="form-control form-control-lg" value="250,000" placeholder="Expected capital investment per year">
                                    </div>
                                    <div class="col-lg-6">
                                    </div>
                                    <div class="col-lg-12 h-70">
                                            <label for="AccountStatement" class="font-bold mt-2">Account Statement for last 3 months </label>
                                            <input type="file" class="custom-file-input">
                                            <div class="file-input">
                                                <p class="text-center">
                                                    <span class="px-3">
                                                        <svg width="28" height="22" viewBox="0 0 28 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.68117 2.2677L1.96299 4.4627C1.06069 4.80906 0.610006 5.82131 0.956368 6.72361L5.97352 19.7937C6.31988 20.696 7.33212 21.1467 8.23443 20.8004L18.037 17.0375C18.9393 16.6911 19.39 15.6789 19.0436 14.7766L15.5944 5.79087L7.68117 2.2677Z" fill="#F9F9F9" stroke="#D8D8D8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                            <path d="M7.68115 2.26758L9.87616 7.98576L15.5943 5.79075" stroke="#D8D8D8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M20.2069 2.62589L14.3816 0.733163C13.4624 0.434498 12.4752 0.937537 12.1765 1.85673L7.85027 15.1715C7.5516 16.0907 8.05464 17.078 8.97384 17.3767L18.9599 20.6213C19.8791 20.92 20.8664 20.417 21.1651 19.4978L24.1393 10.3438L20.2069 2.62589Z" fill="#FEFCF8" stroke="#F6CF00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                            <path d="M20.2069 2.62598L18.3142 8.4512L24.1394 10.3439" stroke="#F6CF00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                        </svg>
                                                        </span>
                                                    Darg and drop here</p>
                                            </div>

                                    </div>
                                    </form>
                        </div>
                        </div>

                        <div class="col-lg-10 mt-3 row justify-content-end py-4 mt-4" *ngIf="!isShown && !showProfit">
                                <div class="form-group col-lg-2">
                                       <button class="btn btn-info btn-lg btn-block btn-black mt-2" (click)="EditInfo()">
                                            <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.3632 4.32641L4.05556 11.5H1V8.72222L8.94444 1.5L11.3632 4.32641Z" stroke="#694F70" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span class="px-3">Edit</span>
                                        </button>
                                    </div>
                                    <div class="form-group col-lg-2">
                                      <!-- <button class="btn btn-info btn-lg btn-block btn-purple mt-2"  [disabled]="!disableButton" (click)="SaveInfo()">Save</button> -->
                                      <button class="btn btn-info btn-lg btn-block btn-purple mt-2"  [disabled]="!disableButton || (!phone && phone!=0) || !EditForm.valid" (click)="SaveInfo()">Save</button>
                                  </div>
                                  <ngx-spinner bdColor = "rgba(51, 51, 51, 0.8)"size = "medium"
                                  color = "white" type = "ball-clip-rotate" [fullScreen] = "true">
                                  <p style="color: white; margin-top:50px;font-size: 26px;" > Loading... </p>
                                  </ngx-spinner>
                        </div>

                        <div class="col-lg-10 mt-3 row justify-content-end py-4 mt-2" *ngIf="isShown && !showProfit">
                                <div class="form-group col-lg-2">
                                       <button class="btn btn-info btn-lg btn-block btn-black mt-2" (click)="EditBankInfo()">
                                            <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.3632 4.32641L4.05556 11.5H1V8.72222L8.94444 1.5L11.3632 4.32641Z" stroke="#694F70" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            <span class="px-3">Edit</span>
                                        </button>
                                    </div>
                               <div class="form-group col-lg-2">
                                   <button class="btn btn-info btn-lg btn-block btn-purple mt-2" (click)="SaveBankInfo()">Save</button>
                               </div>
                        </div>


                        <div class="col-lg-12 row justify-content-around" *ngIf="showProfit">
                            <div class="col-lg-5 row bank-info-card card-purple">
                                <div class="col-lg-2 mt-4 px-3 col-3">
                                        <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path opacity="0.312802" fill-rule="evenodd" clip-rule="evenodd" d="M32 64C49.6731 64 64 49.6731 64 32C64 14.3269 49.6731 0 32 0C14.3269 0 0 14.3269 0 32C0 49.6731 14.3269 64 32 64Z" fill="#F9F9F9"/>
                                            <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="64" height="64">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M32 64C49.6731 64 64 49.6731 64 32C64 14.3269 49.6731 0 32 0C14.3269 0 0 14.3269 0 32C0 49.6731 14.3269 64 32 64Z" fill="white"/>
                                            </mask>
                                            <g mask="url(#mask0)">
                                            <path d="M19.6792 46.0236C19.7342 48.7756 22.0032 50.9656 24.7555 50.9231L82.4811 50.0308C85.2498 49.988 87.4565 47.7032 87.4029 44.9347L86.8428 15.9796C86.7895 13.2263 84.5199 11.0344 81.7664 11.0769L24.0221 11.9691C21.2522 12.0119 19.045 14.2987 19.1004 17.0685L19.6792 46.0236Z" fill="black"/>
                                            <path d="M17.6792 48.5236C17.7342 51.2756 20.0032 53.4656 22.7555 53.4231L80.4811 52.5308C83.2498 52.488 85.4565 50.2032 85.4029 47.4347L84.8428 18.4796C84.7895 15.7263 82.5199 13.5344 79.7664 13.5769L22.0221 14.4691C19.2522 14.5119 17.045 16.7987 17.1004 19.5685L17.6792 48.5236Z" fill="#C7C7C7"/>
                                            <path d="M17.7299 49.4746C17.7568 51.6938 19.5852 53.4669 21.8042 53.4255L80.5318 52.3305C80.5318 52.3305 68.7353 31.1838 56.4759 24.9084C44.2165 18.6329 17.3733 20.0006 17.3733 20.0006L17.7299 49.4746Z" fill="black" fill-opacity="0.0962358"/>
                                            <rect x="38.5" y="42" width="40" height="3" rx="1.5" fill="#441997"/>
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M27 47C28.933 47 30.5 45.433 30.5 43.5C30.5 41.567 28.933 40 27 40C25.067 40 23.5 41.567 23.5 43.5C23.5 45.433 25.067 47 27 47Z" fill="black"/>
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M30.5 47C32.433 47 34 45.433 34 43.5C34 41.567 32.433 40 30.5 40C28.567 40 27 41.567 27 43.5C27 45.433 28.567 47 30.5 47Z" fill="#39A4E9"/>
                                            </g>
                                            </svg>

                                 </div>
                                 <div class="card-info col-lg-8 mt-4 px-5 col-8">
                                     <p>Converted profits</p>
                                     <h4>12,400 SAR</h4>
                                 </div>

                            </div>
                            <div class="col-lg-5 row bank-info-card card-dark">
                                    <div class="col-lg-2 mt-4 px-3 col-3">
                                            <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path opacity="0.312802" fill-rule="evenodd" clip-rule="evenodd" d="M32 64C49.6731 64 64 49.6731 64 32C64 14.3269 49.6731 0 32 0C14.3269 0 0 14.3269 0 32C0 49.6731 14.3269 64 32 64Z" fill="#F9F9F9"/>
                                                <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="64" height="64">
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M32 64C49.6731 64 64 49.6731 64 32C64 14.3269 49.6731 0 32 0C14.3269 0 0 14.3269 0 32C0 49.6731 14.3269 64 32 64Z" fill="white"/>
                                                </mask>
                                                <g mask="url(#mask0)">
                                                <path d="M19.6792 46.0236C19.7342 48.7756 22.0032 50.9656 24.7555 50.9231L82.4811 50.0308C85.2498 49.988 87.4565 47.7032 87.4029 44.9347L86.8428 15.9796C86.7895 13.2263 84.5199 11.0344 81.7664 11.0769L24.0221 11.9691C21.2522 12.0119 19.045 14.2987 19.1004 17.0685L19.6792 46.0236Z" fill="black"/>
                                                <path d="M17.6792 48.5236C17.7342 51.2756 20.0032 53.4656 22.7555 53.4231L80.4811 52.5308C83.2498 52.488 85.4565 50.2032 85.4029 47.4347L84.8428 18.4796C84.7895 15.7263 82.5199 13.5344 79.7664 13.5769L22.0221 14.4691C19.2522 14.5119 17.045 16.7987 17.1004 19.5685L17.6792 48.5236Z" fill="#C7C7C7"/>
                                                <path d="M17.7299 49.4746C17.7568 51.6938 19.5852 53.4669 21.8042 53.4255L80.5318 52.3305C80.5318 52.3305 68.7353 31.1838 56.4759 24.9084C44.2165 18.6329 17.3733 20.0006 17.3733 20.0006L17.7299 49.4746Z" fill="black" fill-opacity="0.0962358"/>
                                                <rect x="38.5" y="42" width="40" height="3" rx="1.5" fill="#441997"/>
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M27 47C28.933 47 30.5 45.433 30.5 43.5C30.5 41.567 28.933 40 27 40C25.067 40 23.5 41.567 23.5 43.5C23.5 45.433 25.067 47 27 47Z" fill="black"/>
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M30.5 47C32.433 47 34 45.433 34 43.5C34 41.567 32.433 40 30.5 40C28.567 40 27 41.567 27 43.5C27 45.433 28.567 47 30.5 47Z" fill="#39A4E9"/>
                                                </g>
                                                </svg>

                                     </div>
                                     <div class="card-info col-lg-8 mt-4 px-5 col-8">
                                         <p>Current profits</p>
                                         <h4>122,400 SAR</h4>
                                     </div>
                                     <div class="col-lg-12 mt-3 row d-flex align-items-end py-4 mt-m-5 col-12">
                                            <div class="form-group col-lg-8 transfer-btn">
                                                   <button class="btn btn-info btn-lg btn-block btn-black" (click)="openVerticallyCentered(content3)">Transfer to my bank account</button>
                                           </div>
                                    </div>

                                </div>
                                <div class="col-lg-11 mt-5 mb-5 chart-container">
                                    <p class="font-bold">Financial analysis of your operations</p>
                                <canvas baseChart
                                [datasets]="barChartData"
                                [labels]="barChartLabels"
                                [options]="barChartOptions"
                                [plugins]="barChartPlugins"
                                [colors]="barChartColors"
                                [legend]="barChartLegend"
                                [chartType]="barChartType">
                              </canvas>
                            </div>

                        </div>
                    </div>
            </div>
        </div>

        <ng-template #content3 let-modal>
                <div class="modal-body">
                  <p>
                        Why would you like to refund?
                  </p>
                  <div class="d-flex justify-content-end pb-3 mt-4">
                        <button class="btn btn-info btn-lg btn-block btn-black mt-2 col-lg-4 mr-3" (click)="modal.close('Close click')">Cancellation</button>
                      <button class="btn btn-info btn-lg btn-block btn-purple mt-2 col-lg-4" (click)="openVerticallyCentered(content4)">Exception</button>
                   </div>

                </div>
              </ng-template>

              <ng-template #content4 let-modal>
                    <div class="modal-body">
                      <p>
                            Your savings have been transferred to your bank account
                      </p>
                      <div class="d-flex justify-content-end pb-3 mt-4">
                          <button class="btn btn-info btn-lg btn-block btn-purple mt-2 col-lg-4" (click)="modal.close('Close click')">OK</button>
                       </div>

                    </div>
                  </ng-template>
