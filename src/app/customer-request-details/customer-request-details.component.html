

      <div>
          <div class="row">
            <app-dashbored-navbar></app-dashbored-navbar>

              <aside class="left-sidebar col-lg-4">
                  <!-- Sidebar scroll-->
                  <div class="scroll-sidebar">
                      <app-sidebar></app-sidebar>
                  </div>
                  <!-- End Sidebar scroll-->
              </aside>
              <div class="page-wraper-right row">
                <app-setting></app-setting>
            </div>



          <div class="page-wraper-right full-width "  *ngIf="!editDraftRequest && showRequestDetails">

          <div class="justify-content-center col-lg-11 mat-card mt-4 p-0 mb-5">
              <div class="mat-card pl-0 pr-0 py-4 m-0">
                  <div class="header row" style="width: 100%;">
                    <!-- <span *ngIf="userLang == 'english'" class="icon-close col-lg-1" [routerLink]="['/requests-customer']"><i class="material-icons">
                      <svg fill="none" height="14" viewBox="0 0 7 18" width="7" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1 13L7 7L1 1" stroke="#D8D8D8" stroke-linecap="round" stroke-linejoin="round"></path></svg></i></span> -->
                      <div class="col-lg-1" style="text-align: center;" *ngIf="userLang == 'english'">
                        <i  [routerLink]="['/requests-customer']" class="fa fa-chevron-left pt-3 cursor-pointer " aria-hidden="true"></i>
                      </div>
                      <div class="col-lg-1" style="text-align: center;" *ngIf="userLang == 'arabic'">
                        <i  [routerLink]="['/requests-customer']" class="fa fa-chevron-right pt-3 cursor-pointer " aria-hidden="true"></i>
                      </div>
                      <div class=" col-lg-11 pr-0 pl-0 mr-0">
                        <h1 class="mt-1">{{ 'Requests.RequestDetails' | translate }}</h1>
                      </div>
                  </div>
                </div>
                <form class="col-lg-10 row antim-form p-5 mt-2 mb-5 m-auto" [formGroup]="editRequestForm">
                    <div class="row mb-3" style="width: 100%;">
                      <div class=" col-lg-8"></div>
                      <button class="btn btn-info btn-lg btn-block btn-purple mt-2 col-lg-4" *ngIf="requestType == 'Ongoing Requests'" (click)="openVerticallyCentered(content1)">{{ 'Requests.Requestreschedule' | translate }} </button>
                    </div>
                    <div class="row" style="width: 100%;">
                      <!-- <div class="col-lg-6 padding"><h3 class="headingh3">Request Details</h3>
                        </div> -->
                        <div class="col-lg-8 ">
                          </div>
                        <div class="form-group col-lg-4" *ngIf="showCancelButton">
                            <button class="btn btn-info btn-lg btn-block btn-Red mt-2"  (click)="OpenCancelRequestPopup(contentCancel)">Cancel Request</button>
                        </div>
                        <div class="col-lg-4" *ngIf="deleteButton">
                            <button class="btn btn-danger btn-lg btn-block btn-red  mb-3 cursor-pointer col-lg-12" (click)="openDeletePopup(contentDel)">
                              <svg width="20" height="24" viewBox="0 0 20 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M1 6H3H19" stroke="#C5003E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M5 6C5 4.89543 4.10457 4 3 4V6H5ZM5 20V6H3V20H5ZM5 20H3C3 21.1046 3.89543 22 5 22V20ZM15 20H5V22H15V20ZM15 20V22C16.1046 22 17 21.1046 17 20H15ZM15 6V20H17V6H15ZM17 4C15.8954 4 15 4.89543 15 6H17V4ZM19 6C19 4.89543 18.1046 4 17 4V6H19ZM19 20V6H17V20H19ZM15 24C17.2091 24 19 22.2091 19 20H17C17 21.1046 16.1046 22 15 22V24ZM5 24H15V22H5V24ZM1 20C1 22.2091 2.79086 24 5 24V22C3.89543 22 3 21.1046 3 20H1ZM1 6V20H3V6H1ZM3 4C1.89543 4 1 4.89543 1 6H3V4ZM8 4V2C6.89543 2 6 2.89543 6 4H8ZM8 6V4H6V6H8ZM6 8C7.10457 8 8 7.10457 8 6H6V8ZM4 6C4 7.10457 4.89543 8 6 8V6H4ZM4 4V6H6V4H4ZM8 0C5.79086 0 4 1.79086 4 4H6C6 2.89543 6.89543 2 8 2V0ZM12 0H8V2H12V0ZM16 4C16 1.79086 14.2091 0 12 0V2C13.1046 2 14 2.89543 14 4H16ZM16 6V4H14V6H16ZM14 8C15.1046 8 16 7.10457 16 6H14V8ZM12 6C12 7.10457 12.8954 8 14 8V6H12ZM12 4V6H14V4H12ZM12 4H14C14 2.89543 13.1046 2 12 2V4ZM8 4H12V2H8V4Z" fill="#C5003E"/>
                                <path d="M8 11V17" stroke="#C5003E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 11V17" stroke="#C5003E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                               <span class="px-3">{{ 'Requests.Delete' | translate }}</span>
                           </button>
                        </div>
                      </div>
                    <div class="row" style="width: 100%;">
                      <div class="col-lg-8">
                          <label for="Name" class="font-bold mt-2">{{ 'Requests.RequestName' | translate }}: </label>
                          <input formControlName="ProductName" class="form-control form-control-lg" value="{{requestName}}" readonly placeholder="{{ 'Requests.ProductName' | translate }}"  [attr.disabled]="true">
                      </div>
                      <div class="col-lg-4">
                        <label  class="font-bold mt-2">{{ 'Requests.RequestNumber' | translate }}: </label>
                        <input  class="form-control form-control-lg" value="{{requestDetails?.requestNumber}}" readonly   [attr.disabled]="true">
                    </div>
                    </div>


                    <div class="row" style="width: 100%;" *ngFor="let product of productList; let i = index;" >
                        <div class="form-group text-left col-lg-9"   >
                            <label  class="font-bold mt-2">{{ 'Requests.ProductLink' | translate }}</label>
                            <input  class="form-control form-control-lg" placeholder="{{ 'CreateOrder.ProductLink' | translate }}" type="text" readonly value="{{product.productUrl}}">
                        </div>
                        <div class="form-group text-left col-lg-3"   >
                            <label  class="font-bold mt-2">{{ 'Requests.ProductPrice' | translate }}:</label>
                            <input  class="form-control form-control-lg" placeholder="{{ 'CreateOrder.Enterpricehere' | translate }}"  type="number" readonly value="{{product.amount}}">
                          </div>
                      </div>

                    <div class="row" style="width: 100%;">
                        <div class="col-lg-4">
                          <label for="RequestDate" class="font-bold mt-2">{{ 'Requests.RequestDate' | translate }}</label>
                          <input formControlName="RequestDate" class="form-control form-control-lg" value="{{requestDate}}" placeholder="{{ 'Requests.RequestDate' | translate }}" readonly [attr.disabled]="true">
                      </div>
                      <div class="col-lg-4">
                          <label for="Amount" class="font-bold mt-2">{{ 'Requests.TotalPrice' | translate }}</label>
                          <input formControlName="FundingAmount" class="form-control form-control-lg" value="{{totalPrice}}" type="number" placeholder="{{ 'Requests.Amountoffunding' | translate }}"  [attr.disabled]="true" readonly>
                      </div>
                      <div class="col-lg-4">
                        <label for="totalAmount" class="font-bold mt-2">{{ 'Requests.TotalPayableAmount' | translate }}</label>
                        <input formControlName="TotalAmount" class="form-control form-control-lg" value="{{totalPriceWithProfit}}" type="number" placeholder="{{ 'CreateOrder.InstallmentAmountperMonth' | translate }}" [attr.disabled]="true" readonly>
                    </div>
                  </div>

                   <div class="row" style="width: 100%;">
                   <div class="col-lg-4" >
                      <label for="Installment" class="font-bold mt-2">{{ 'Requests.InstallmentPeriod' | translate }}</label>
                      <input formControlName="installmentPeriod" class="form-control form-control-lg" value="{{installmentPeriod}}" placeholder="{{ 'Requests.InstallmentPeriod' | translate }}" readonly [attr.disabled]="true">
                  </div>

                      <div class="col-lg-4">
                          <label for="InstallmentAmount" class="font-bold mt-2">{{ 'Requests.MonthlyInstallment' | translate }}</label>
                          <input formControlName="MonthlyInstallment" class="form-control form-control-lg" value="{{monthlyInstallment}}"   readonly placeholder="{{ 'CreateOrder.InstallmentAmountperMonth' | translate }}" [attr.disabled]="true">
                      </div>
                      <div class="col-lg-4" *ngIf="isdeliveryFees">
                        <label  class="font-bold mt-2">{{ 'CreateOrder.InstallmentAmountperMonth' | translate }}</label>
                        <input formControlName="DelieveryFees" class="form-control form-control-lg" value="{{deliveryFees}}"   readonly  [attr.disabled]="true">
                    </div>
                  </div>
                  <div class="row" style="width: 100%;">
                      <div class="col-lg-6">
                        <label for="RequestStatus" class="font-bold mt-2">{{ 'Requests.RequestStatus' | translate }}</label>
                        <input formControlName="RequestStatus" class="form-control form-control-lg " value="{{requestType}}" readonly [attr.disabled]="true">
                      </div>

                      <div class="col-lg-6" *ngIf="requestType == 'Ongoing Requests'">
                        <label  class="font-bold mt-2">{{ 'Requests.ProductStatus' | translate }}</label>
                        <input  class="form-control form-control-lg " value="{{productStatus}}" readonly [attr.disabled]="true" >
                      </div>
                      </div>

                      <div class="col-lg-12 row justify-content-end mt-3 "  *ngIf="showRequestDetailsTable">

                        <div class="justify-content-center col-lg-12" >

                          <div class="row my-3 justify-content-center" style="width: 100%;" *ngIf="showTable">
                              <h3  class="font-bold">{{ 'Requests.InstallmentDetails' | translate }}</h3>
                           </div>

                            <table mat-table [dataSource]="dataSource"  class="mat-elevation-z8 my-2" cellpadding="20" *ngIf="showTable"  id="InstallmentDetailsTable">

                                <ng-container matColumnDef="months">
                                    <th mat-header-cell *matHeaderCellDef >{{ 'Requests.No' | translate }} </th>
                                    <td mat-cell *matCellDef="let element"> {{element.month}} </td>
                                  </ng-container>
                                  <ng-container matColumnDef="dueDate">
                                            <th mat-header-cell *matHeaderCellDef >{{ 'Requests.DueDate' | translate }}</th>
                                            <td mat-cell *matCellDef="let element"> {{element.date}} </td>
                                          </ng-container>

                                          <ng-container matColumnDef="price">
                                            <th mat-header-cell *matHeaderCellDef >{{ 'Requests.MonthlyInstallment' | translate }}  </th>
                                            <td mat-cell *matCellDef="let element"> {{element.price}} </td>
                                          </ng-container>

                                          <ng-container matColumnDef="status">
                                            <th mat-header-cell *matHeaderCellDef >{{ 'Requests.Status' | translate }}</th>
                                            <td mat-cell *matCellDef="let element" class="mat-cell {{element.status}}"> {{element.status}} </td>
                                          </ng-container>



                                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                          <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                                             >
                                          </tr>
                                        </table>


                        </div>
                      </div>
                      <div class="row py-3 mt-3" style="width: 100%;" *ngIf="showEditButton">
                        <div class="form-group col-lg-8" ></div>
                        <div class="form-group col-lg-4" >
                               <button class="btn btn-info btn-lg btn-block btn-black mt-2"  (click)="editRequestInfo()">
                                    <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.3632 4.32641L4.05556 11.5H1V8.72222L8.94444 1.5L11.3632 4.32641Z" stroke="#694F70" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    <span class="px-3">{{ 'Requests.EditRequest' | translate }}</span>
                                </button>
                            </div>
                </div>
                <ngx-spinner bdColor = "rgba(51, 51, 51, 0.8)"size = "medium"
                color = "white" type = "ball-clip-rotate" [fullScreen] = "true">
                <p style="color: white; margin-top:50px;font-size: 26px;" > {{ 'SignUp.Loading' | translate }} </p>
                </ngx-spinner>
                      </form>
            <br/>
            <br/>
            </div>
            <ng-template #content1 let-modal>
                <div class="modal-header">
                    <h4 class="modal-title">{{ 'Requests.RescheduletheRequest' | translate }}!</h4>
                    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
              <div class="modal-body py-3">
                <h3 class=" px-2">
                    {{ 'Requests.RescheduletheRequestSure' | translate }}

                </h3>
                <div class="row py-2" style="width: 100%;">
                  <div class="col-lg-6"></div>
                  <div class="col-lg-3"><button class="btn btn-info btn-lg btn-block btn-purple mt-2" (click)="rescheduleRequest()">{{ 'Requests.Yes' | translate }}</button></div>
                  <div class="col-lg-3"><button class="btn btn-info btn-lg btn-block btn-purple mt-2 " (click)="modal.close('Close click')">{{ 'Requests.Noo' | translate }}</button></div>
               </div>
              </div>
            </ng-template>
            <ng-template #contentDel let-modal>
                <div class="modal-header">
                    <h4 class="modal-title">{{ 'Requests.DeleteRequest' | translate }}</h4>
                    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                <div class="modal-body py-4">
                  <p class="my-3 mx-3" style="text-align: center; font-size: 15px;">
                      {{ 'Requests.DeleteRequestSure' | translate }}
                       {{requestName}}?
                  </p>
                  <div class="row py-1" style="width: 100%;">
                  <div class="col-lg-6"></div>
                  <div class="col-lg-3"><button class="btn btn-info btn-lg btn-block btn-purple mt-2" (click)="deleteRequest()">{{ 'Requests.Yes' | translate }}</button></div>
                  <div class="col-lg-3"><button class="btn btn-info btn-lg btn-block btn-purple mt-2 " (click)="modal.close('Close click')"> {{ 'Requests.Noo' | translate }}</button></div>
                  </div>
                </div>
              </ng-template>
              <ng-template #contentCancel let-modal>
                  <div class="modal-header">
                      <h4 class="modal-title">{{ 'Requests.CancelRequest' | translate }}</h4>
                      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body py-4">
                        <p class="my-3 mx-3" style="text-align: center; font-size: 15px;">
                            {{ 'Requests.CancelRequestSure1' | translate }}
                             {{requestName}}?
                             {{ 'Requests.CancelRequestSure2' | translate }}

                    </p>
                    <div class="row py-2" style="width: 100%;">
                        <div class="col-lg-6"></div>
                        <div class="col-lg-3"><button class="btn btn-info btn-lg btn-block btn-purple mt-2" (click)="cancelRequest()">{{ 'Requests.Yes' | translate }}</button></div>
                        <div class="col-lg-3"><button class="btn btn-info btn-lg btn-block btn-purple mt-2 " (click)="modal.close('Close click')">{{ 'Requests.Noo' | translate }}</button></div>
                    </div>
                  </div>
                </ng-template>
        </div>


        <div class="page-wraper-right full-width" *ngIf="editDraftRequest && !showRequestDetails">
            <div class="mat-card p-1 col-lg-11 mt-5">
            <div class="mat-card row welcome-card inner p-0 m-1">
                    <img class="col-lg-2 col-4" src="assets/images/bookWithMen 2.svg">
                    <div class="col-lg-10 col-8 px-0">
                        <p class="grey-text-color pt-3 mt-4">
                            {{ 'Requests.EditRequestAsk' | translate }}
                            </p>
                    </div>
            </div>

            <mat-horizontal-stepper linear #matStep class="mt-5">
              <mat-step [stepControl]="firstFormGroup" >
                <form [formGroup]="firstFormGroup">
                          <ng-template matStepLabel>
                              <img src="assets/images/add-product.svg">
                              <p class="font-size-13 mt-2">{{ 'Requests.EditProduct' | translate }}</p>
                          </ng-template>
                          <div class="row " style="width: 100%;">
                            <h3 class="mb-4 pl-2 pr-2 mt-4">{{ 'CreateOrder.EnterproductDetail(s)' | translate }}</h3>
                          </div>
                        <div class="row" style="width: 100%;">
                          <div class="form-group text-left col-lg-12  " >
                            <label for="name" class="font-bold mt-2">{{ 'Requests.RequestName' | translate }}</label>
                            <input formControlName="Name" class="form-control form-control-lg" placeholder="{{ 'CreateOrder.EnterRequestNamehere' | translate }}"  type="text" value="{{requestName}}" [(ngModel)]="requestName">
                            <div *ngIf="firstFormGroup.controls['Name'].touched && firstFormGroup.controls['Name'].hasError('required')" class="error-msg alert alert-danger text-left">Request Name is required.</div>
                          </div>
                        </div>

                        <div class="row" style="width: 100%;" *ngFor="let product of productList; let i = index;" >
                            <a class="close-icon" (click)="removeItems(i)"><img src="assets/images/close.svg"></a>
                            <div class="form-group text-left col-lg-9"   >
                                <label  class="font-bold mt-2">{{ 'Requests.ProductLink' | translate }}</label>
                                <input  class="form-control form-control-lg" placeholder="{{ 'CreateOrder.Enterproductlinkhere' | translate }}" type="text"  value="{{product.productUrl}}" [(ngModel)]="product.productUrl" [ngModelOptions]="{standalone: true}">
                            </div>
                            <div class="form-group text-left col-lg-3"   >
                                <label  class="font-bold mt-2">{{ 'Requests.ProductPrice' | translate }}:</label>
                                <input  class="form-control form-control-lg" placeholder="{{ 'CreateOrder.Enterpricehere' | translate }}"  type="number" digitOnly value="{{product.amount}}" [(ngModel)]="product.amount" [ngModelOptions]="{standalone: true}" (focusout)="onFocusoutMethod()">
                              </div>
                          </div>

                          <div class="row mt-2 mb-4" style="width: 100%;">
                            <div class="col-lg-3"></div>
                            <div class="col-lg-6">
                              <button class=" btn btn-block btn-outline-primary more-item-button mt-4" (click)="addMoreItems()" >
                                <svg width="21" height="22" class="mx-2" viewBox="0 0 21 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10 21.5217C15.5228 21.5217 20 16.8499 20 11.0869C20 5.32391 15.5228 0.6521 10 0.6521C4.47715 0.6521 0 5.32391 0 11.0869C0 16.8499 4.47715 21.5217 10 21.5217Z" stroke="#5C20D2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M10 6.91309V15.2609" stroke="#5C20D2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M6 11.0869H14" stroke="#5C20D2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                 </svg>
                                 {{ 'CreateOrder.MoreItem' | translate }}
                            </button>
                            </div>
                            </div>

                            <div class="mt-3 row ">
                                    <div class=" col-lg-7" >
                                        <h3 class="mt-3"> {{ 'CreateOrder.TotalPriceOfProducts' | translate }} </h3>
                                        <input class="form-control form-control-lg"  value="{{totalPrice}}" readonly>
                                    </div>
                                  </div>

                               <div class="col-lg-12 mt-3 row justify-content-center align-items-center py-4 mt-3">
                                     <div class="form-group col-lg-3">
                                        <button mat-button (click)="nextStep(matStep)" [disabled]="!firstFormGroup.valid" class="btn btn-info btn-lg btn-block btn-purple ">{{ 'CreateOrder.Next' | translate }} </button>
                                      </div>
                                 </div>
                            </form>
                            <div class="alert mt-3 alert-warning row" id="move-icon" role="alert">
                              <p class= "mb-0">
                                <i class="mx-1 fa fa-exclamation-circle"></i>
                                 <b> {{ 'CreateOrder.Note' | translate }} : </b>{{ 'CreateOrder.CreateOrderNote' | translate }}
                            </p>
                          </div>
                          </mat-step>
                            <mat-step [stepControl]="secondFormGroup">

                              <form [formGroup]="secondFormGroup" class="Payment-Details-form">
                                <ng-template matStepLabel>
                                    <img src="assets/images/Payment-Details.svg">
                                    <p class="font-size-13 mt-2"></p>
                                </ng-template>
                                <div class="row mt-4">
                                <div class="col-lg-6">
                                    <label for="Installment" class="font-bold mt-2">{{ 'CreateOrder.SelectInstallmentPeroid' | translate }}</label>
                                    <select formControlName="firstCtrl" matNativeControl required class="form-control custom-select form-control-lg mt-3" (change)="onChange($event.target.value)">
                                      <option value="" selected>{{ 'CreateOrder.PleaseSelectInstallmentPeriod' | translate }}</option>
                                      <option value="3-Months">{{ 'CreateOrder.3 Months' | translate }}</option>
                                      <option value="6-Months">{{ 'CreateOrder.6 Months' | translate }}</option>
                                      <option *ngIf="showOptions" value="9-Months">{{ 'CreateOrder.9 Months' | translate }}</option>
                                      <option *ngIf="showOptions" value="12-Months">{{ 'CreateOrder.12 Months' | translate }}</option>
                                    </select>
                                    <svg class="arrow" style="top: 3.8em !important;" fill="none" height="14" viewBox="0 0 14 12" width="10" xmlns="http://www.w3.org/2000/svg"><path _ngcontent-pkd-c13="" d="M1 1.2113L7 10.7606L13 1.2113" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>
                                </div>

                                <div class="col-lg-6">
                                    <label for="amount" class="font-bold mt-2">{{ 'CreateOrder.InstallmentAmountperMonth' | translate }}</label>
                                    <input placeholder="E.g. 1200 SAR" class="form-control form-control-lg" formControlName="secondCtrl" type="number"  [(ngModel)]="monthlyInstallment" required readonly style="height: 53px;">
                                </div>
                            </div>
                                <p class="my-5 grey-text-color">
                                    <!-- <span class="mr-1">
                                        <svg width="15" height="17" viewBox="0 0 15 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 15C11.0899 15 14 12.0899 14 8.5C14 4.91015 11.0899 2 7.5 2C3.91015 2 1 4.91015 1 8.5C1 12.0899 3.91015 15 7.5 15Z" stroke="#607AE6"/>
                                            <path d="M7.5 11.1V8.5" stroke="#607AE6"/>
                                         </svg>
                                    </span> -->
                                    {{ 'CreateOrder.Theinformationselected' | translate }}
                                    </p>
                                <div>
                                <div class="col-lg-12 mt-3 row justify-content-center align-items-center py-4 mt-5">
                                        <div class="form-group col-lg-4">
                                                <button class="btn btn-info btn-lg btn-block btn-black mt-2" mat-button matStepperPrevious >{{ 'SignUp.back' | translate }}</button>
                                        </div>
                                        <div class="form-group col-lg-3">
                                            <button class="btn btn-info btn-lg btn-block btn-purple mt-2"  mat-button matStepperNext [disabled]="!disabledSubmitButtonSecond">{{ 'SignUp.Next' | translate }}</button>
                                        </div>
                                </div>
                                </div>
                              </form>
                            </mat-step>
                            <mat-step>
                                <ng-template matStepLabel>
                                        <img src="assets/images/confirm.svg">
                                        <p class="font-size-13 mt-2">{{ 'CreateOrder.Confirm' | translate }}</p>
                                </ng-template>
                                <br/>


                                    <!-- <div class="col-lg-10 grey-text-color my-5">
                                        <input type="checkbox" id="box-2" (change)="changeCheck($event)">
                                        <label style="font-size: 16px;"for="box-2"> I agree on purchasing the request #1032 showing in the request screen.
                                            <br/>and with the price showing in the request screen.
                                            </label>
                                    </div> -->
                                    <label class="container col-lg-10 pt-2 grey-text-color my-5">
                                        {{ 'CreateOrder.IagreeRequstName' | translate }}
                                       <b>{{requestName}} </b>  {{ 'CreateOrder.showingRequestScreen' | translate }}
                                      <input type="checkbox" (change)="changeCheck($event)">
                                      <span class="checkmark"></span>
                                    </label>

                              <div>


                                    <div class="col-lg-12 mt-3 row justify-content-center align-items-center py-4 mt-5">
                                            <div class="form-group col-lg-3">
                                                    <button class="btn btn-info btn-lg btn-block btn-black mt-2" mat-button matStepperPrevious>{{ 'SignUp.back' | translate }}</button>
                                            </div>

                                            <div class="form-group col-lg-3">
                                                <button class="btn btn-info btn-lg btn-block btn-purple mt-2"  [disabled]="!disabledAgreement" mat-button matStepperNext>{{ 'CreateOrder.AgreeProceed' | translate }}
                                                    </button>
                                            </div>
                                    </div>
                              </div>
                              <div class="alert mt-3 alert-warning row" id="confirm-icon" role="alert">
                                <p class= "mb-0">
                                  <i class="mx-1 fa fa-exclamation-circle"></i>
                                  <b>{{ 'CreateOrder.Note' | translate }}  : </b>{{ 'CreateOrder.Dear' | translate }} {{currentUser?.firstName}} {{currentUser?.lastName}} {{ 'CreateOrder.PleaseBoteCancel' | translate }}
                                </p>
                              </div>

                            </mat-step>
                            <mat-step [stepControl]="lastFormGroup">
                                <ng-template matStepLabel>
                                        <img src="assets/images/summary.svg">
                                        <p class="font-size-13 mt-2">{{ 'CreateOrder.Summary' | translate }}</p>
                                </ng-template>
                                <h3 class="mb-4  pr-4 mt-5">{{ 'CreateOrder.UndertakingPurchase' | translate }}</h3>
                                <form [formGroup]="lastFormGroup" class="Payment-Details-form">
                                        <mat-form-field>
                                            <label for="numberOfProduct" class="font-bold mt-2">{{ 'CreateOrder.Numberofproduct' | translate }}</label>
                                            <input matInput class="form-control form-control-lg" formControlName="numberOfProduct" value="{{totalProducts}} Product" readonly>
                                        </mat-form-field>

                                        <mat-form-field>
                                            <label for="total" class="font-bold mt-2"> {{ 'CreateOrder.TotalPriceOfProduct' | translate }}:</label>
                                            <input matInput class="form-control form-control-lg" formControlName="TotalPrice" value="{{totalPrice}}" readonly>
                                        </mat-form-field>

                                        <mat-form-field>
                                            <label for="InstallmentPeriod" class="font-bold mt-2">{{ 'Requests.InstallmentPeriod' | translate }}</label>
                                            <input matInput class="form-control form-control-lg" formControlName="InstallmentPeriod" value="{{installmentPeriod}}" readonly>
                                        </mat-form-field>

                                        <mat-form-field>
                                                <label for="InstallmentPerMonth" class="font-bold mt-2">{{ 'CreateOrder.InstallmentAmountperMonth' | translate }}</label>
                                                <input matInput class="form-control form-control-lg" formControlName="InstallmentPerMonth" value="{{monthlyInstallment}}" readonly>
                                        </mat-form-field>

                                        <mat-form-field>
                                                <label for="FinalProduct" class="font-bold mt-2">{{ 'CreateOrder.TotalPayableProductPrice' | translate }}</label>
                                                <input matInput class="form-control form-control-lg" formControlName="FinalProduct" value="{{priceWithDelivery}}" [(ngModel)]="priceWithDelivery" readonly>
                                              </mat-form-field>

                                              <div class="row mt-5">
                                                <div class="col-lg-6">
                                                  <label class="container1 pr-4">{{ 'CreateOrder.DeliverproductstoMyAddress' | translate }}
                                                  <input type="radio" name="gender" value="deliver" (click)="ShowAlert()" >
                                                  <span class="checkmark1"></span>
                                                  </label>
                                                 </div>
                                                  <div class="col-lg-6 pr-4">
                                                  <label class="container1">{{ 'CreateOrder.PickUptheProducts' | translate }}
                                                    <input type="radio" name="gender" value="self" (click)="HideAlert()" >
                                                    <span class="checkmark1"></span>
                                                    </label>
                                                </div>
                                                    <!-- <input type="radio" name="gender" value="self" (click)="HideAlert()" class="mr-2">Pick up the products from Antim offices by myself<br> -->
                                              </div>
                                              <div class="alert mt-5 mb-2 alert-warning" role="alert" *ngIf="showAlert">
                                                <p class="mb-0 grey-text-color">
                                                <i class="fa fa-exclamation-circle"></i>
                                                {{ 'CreateOrder.SelectingadditionalDelivery' | translate }}{{deliveryFee}}{{ 'Dashbored.SAR' | translate }}

                                              </p>
                                            </div>
                                        <div>
                                        <div class="col-lg-12 mt-3 row justify-content-center align-items-center py-4 mt-5">
                                            <div class="form-group col-lg-3">
                                                <button class="btn btn-info btn-lg btn-block btn-black mt-2" mat-button matStepperPrevious> {{ 'SignUp.back' | translate }}</button>
                                        </div>
                                        <div class="form-group col-lg-4">
                                            <button class="btn btn-info btn-lg btn-block btn-black mt-2" [disabled]="!disableButton" (click)="saveAsDraft(content)"> {{ 'CreateOrder.SaveasDraft' | translate }}</button>
                                    </div>
                                        <div class="form-group col-lg-3">
                                            <button class="btn btn-info btn-lg btn-block btn-purple mt-2" [disabled]="!disableButton" mat-button matStepperNext (click)="saveRequest(content3)">{{ 'CreateOrder.SendRequest' | translate }}</button>

                                                </div>
                                                <ngx-spinner bdColor = "rgba(51, 51, 51, 0.8)"size = "medium"
                                                color = "white" type = "ball-clip-rotate" [fullScreen] = "true">
                                                <p style="color: white; margin-top:50px;font-size: 26px;" > {{ 'SignUp.Loading' | translate }} </p>
                                                </ngx-spinner>
                                        </div>
                                        </div>
                                      </form>
                        </mat-step>
                          </mat-horizontal-stepper>
                          <ng-template #content3 let-modal>
                              <div class="modal-header">
                                  <h4 class="modal-title">{{ 'CreateOrder.RequestSent' | translate }} </h4>
                                  <button type="button" class="close" aria-label="Close" (click)="closeModal()">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                  <p>
                                      {{ 'CreateOrder.Thankyou' | translate }}
                                         {{currentUser?.firstName}},<br/>
                                         {{ 'CreateOrder.ThankyourequestSuccessfully' | translate }}


                                  </p>
                                  <div class="col-lg-9 "></div>
                                  <div class="col-lg-3 "><button class="btn btn-info btn-lg btn-block btn-purple mt-2" [routerLink]="[ '/requests-customer' ]" (click)="closeModal()">{{ 'CreateOrder.OK' | translate }}</button></div>

                                </div>
                              </ng-template>
                              <ng-template #content let-modal>
                                  <div class="modal-header">
                                      <h4 class="modal-title">{{ 'CreateOrder.RequestUpdated' | translate }}</h4>
                                      <button type="button" class="close" aria-label="Close" (click)="closeModal()">
                                        <span aria-hidden="true">&times;</span>
                                      </button>
                                    </div>
                                <div class="modal-body">
                                  <p>
                                      {{ 'CreateOrder.Thankyou' | translate }} !<br/>
                                      {{ 'Requests.RequestUpdatedAsDraft' | translate }}
                                  </p>
                                  <div class="col-lg-9 "></div>
                                  <div class="col-lg-3 "><button class="btn btn-info btn-lg btn-block btn-purple mt-2 " [routerLink]="[ '/requests-customer' ]" (click)="closeModal()"> {{ 'CreateOrder.OK' | translate }}</button></div>

                                </div>
                              </ng-template>
            </div>
        </div>

        </div>
